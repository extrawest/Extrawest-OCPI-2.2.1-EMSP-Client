<a href="https://www.extrawest.com/"><img src="https://drive.google.com/uc?export=view&id=1kXfNj5WfW2oSMzQR82xYBI6Bw_W8-LpK" width="20%"></a>
# Extrawest-OCPI-2.2.1-EMSP-Client

## Badges

![build](https://img.shields.io/github/actions/workflow/status/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client/docker-image.yml?style=for-the-badge)
![release](https://img.shields.io/github/v/release/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client?style=for-the-badge)
[![Java CI with Maven](https://github.com/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client/actions/workflows/release-publish.yml/badge.svg)](https://github.com/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client/actions/workflows/snapshot-publish.yml)
![contr](https://img.shields.io/github/contributors/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client?style=for-the-badge)
![commits](https://img.shields.io/github/commit-activity/m/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client?style=for-the-badge)
![lastcommit](https://img.shields.io/github/last-commit/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client?style=for-the-badge)
![OCPI](https://img.shields.io/badge/OCPI-2.2.1-yellowgreen?style=for-the-badge)
![JDK](https://img.shields.io/badge/JDK-17-yellow?style=for-the-badge)
![social](https://img.shields.io/github/forks/extrawest/Extrawest-OCPI-2.2.1-EMSP-Client?style=for-the-badge)

## Table of Contents

- [Field of use](#field-of-use)
- [Description](#description)
- [Maven](#maven)
- [Requirements](#requirements)
- [Installation](#installation)
- [Getting Started](#getting-started)
- [Use in Spring Boot App](#using-extrawest-ocpi-221-emsp-client-in-spring-boot-application)
- [Documentation for API Endpoints](#documentation-for-api-endpoints)
- [Documentation for Models](#documentation-for-models) 
- [Documentation for Authorization](#documentation-for-authentication-and-authorization)
- [Recommendation](#recommendation)
- [License](#license)
- [About Extrawest.com](#about-extrawestcom)

## Field of use
Client library for [OCPI eMSP Server](https://github.com/extrawest/Extrawest-OCPI-2.2.1-EMSP-Server). [Library for OCPI CPO](https://github.com/extrawest/Extrawest-OCPI-2.2.1-CPO-Client) can be found in other repo. Open Charge Point Interface (OCPI) is an open protocol used for connections between charging station operators and service providers. Simply put, this protocol facilitates automated roaming for EV drivers between different EV charging networks.

*Automatically generated by the [OpenAPI Generator](https://openapi-generator.tech)* as a client library for [OCPI Server Library](https://github.com/extrawest/Extrawest-OCPI-2.2.1-EMSP-Server)

Description
=============

With this library, you can easily get started with the Open Charge-Point Interface by making calls to OCPI EMSP Server API. It is a client to [OCPI eMSP Server](https://github.com/extrawest/Extrawest-OCPI-2.2.1-EMSP-Server), created using OpenAPI Generator

Please note, this is a library and not an application, so there is no main method. 

Currently we support 2.2.1 OCPI version.

Maven
=====

Find the maven repo here: https://mvnrepository.com/artifact/com.extrawest/Extrawest-OCPI-2.2.1-EMSP-Client

## Requirements

Building the API client library requires:

1. Java 1.8+
2. Maven

## Installation

To install the API client library to your local Maven repository, simply execute:

```shell
mvn clean install
```

### Maven users

Add this dependency to your project's POM:

```xml
<dependency>
    <groupId>com.extrawest</groupId>
    <artifactId>Extrawest-OCPI-2.2.1-EMSP-Client</artifactId>
</dependency>
```

### Others

At first generate the JAR by executing:

```shell
mvn clean package
```

Then manually install the following JARs:

- `target/extrawest-ocpi-2.2.1-emsp-client-0.0.1.jar`
- `target/lib/*.jar`

## Getting Started

Please follow the [installation](#installation) instruction and execute the following Java code:

```java

import com.extrawest.ocpp.client.invoker.*;
import com.extrawest.ocpp.client.invoker.auth.*;
import com.extrawest.ocpp.client.model.*;
import com.extrawest.ocpp.client.api.ClientInfoControllerApi;

public class ClientInfoControllerApiExample {

    public static void main(String[] args) {
        ApiClient defaultClient = Configuration.getDefaultApiClient();
        defaultClient.setBasePath("http://localhost:8080");
        
        ClientInfoControllerApi apiInstance = new ClientInfoControllerApi(defaultClient);
        String countryCode = "countryCode_example";
        String partyId = "partyId_example";
        try {
            ClientInfoDTO result = apiInstance.getHubClientInfo(countryCode, partyId);
            System.out.println(result);
        } catch (ApiException e) {
            System.err.println("Exception when calling ClientInfoControllerApi#getHubClientInfo");
            System.err.println("Status code: " + e.getCode());
            System.err.println("Reason: " + e.getResponseBody());
            System.err.println("Response headers: " + e.getResponseHeaders());
            e.printStackTrace();
        }
    }
}

```
### Using Extrawest-OCPI-2.2.1-EMSP-Client in Spring Boot Application

1. To access the EMSP API classes, we need to configure them as beans:
```java
@Configuration
public class EmspClientConfig {

    @Bean
    public EmspTariffControllerApi emspTariffApi() {
        return new EmspTariffControllerApi(apiClient());
    }

    @Bean
    public ApiClient apiClient() {
        return new ApiClient();
    }
}
```

2. Since we configured our API classes as beans, we can freely inject them in our Spring-managed classes:
```java

@Service
public class EmspTariffServiceImpl implements  EmspTariffService {
    @Autowired
    private EmspTariffControllerApi emspTariffControllerApi;

    @Override
    public TariffDTO getTariff() {
        try {
            return emspTariffControllerApi.getTariff("countryCode", "partyId", "tariffId");
        } catch (RestClientException e) {
            throw new RuntimeException();
        }
    }
}

```

Spring Boot application, where we have tested Extrawest-OCPI-2.2.1-EMSP-Client, has below Spring dependencies. In case of library and your project dependencies versions incompatibility, try to add next spring versions into you projects:
```bash
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-web</artifactId>
            <version>5.3.24</version>
        </dependency>
        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-context</artifactId>
            <version>5.3.24</version>
        </dependency>

        <dependency>
            <groupId>org.springframework</groupId>
            <artifactId>spring-core</artifactId>
            <version>5.3.24</version>
        </dependency>
```

## Documentation for API Endpoints

All URIs are relative to *http://localhost:8080*

Class | Method | HTTP request | Description
------------ | ------------- | ------------- | -------------
*ClientInfoApi* | [**getHubClientInfo**](docs/ClientInfoApi.md#getHubClientInfo) | **GET** /api/2.2.1/hubClientInfo/{country_code}/{party_id} |
*ClientInfoApi* | [**putHubClientInfo**](docs/ClientInfoApi.md#putHubClientInfo) | **PUT** /api/2.2.1/hubClientInfo/{country_code}/{party_id} |
*EmspCdrApi* | [**getCdr**](docs/EmspCdrApi.md#getCdr) | **GET** /emsp/api/2.2.1/cdr/{id} |
*EmspCdrApi* | [**postCdr**](docs/EmspCdrApi.md#postCdr) | **POST** /emsp/api/2.2.1/cdr |
*EmspChargingProfilesApi* | [**postChargingProfile**](docs/EmspChargingProfilesApi.md#postChargingProfile) | **POST** /emsp/api/2.2.1/chargingProfiles |
*EmspChargingProfilesApi* | [**putChargingProfile**](docs/EmspChargingProfilesApi.md#putChargingProfile) | **PUT** /emsp/api/2.2.1/chargingProfiles/{session_id} |
*EmspCommandsApi* | [**postCommand**](docs/EmspCommandsApi.md#postCommand) | **POST** /emsp/api/2.2.1/commands/{commandType}/{uniqueId} |
*EmspCredentialsApi* | [**deleteCredentials**](docs/EmspCredentialsApi.md#deleteCredentials) | **DELETE** /emsp/api/2.2.1/credentials |
*EmspCredentialsApi* | [**getCredentials**](docs/EmspCredentialsApi.md#getCredentials) | **GET** /emsp/api/2.2.1/credentials |
*EmspCredentialsApi* | [**postCredentials**](docs/EmspCredentialsApi.md#postCredentials) | **POST** /emsp/api/2.2.1/credentials |
*EmspCredentialsApi* | [**putCredentials**](docs/EmspCredentialsApi.md#putCredentials) | **PUT** /emsp/api/2.2.1/credentials |
*EmspLocationApi* | [**getLocationEvseController**](docs/EmspLocationApi.md#getLocationEvseController) | **GET** /emsp/api/2.2.1/locations |
*EmspLocationApi* | [**patchLocation**](docs/EmspLocationApi.md#patchLocation) | **PATCH** /emsp/api/2.2.1/locations |
*EmspLocationApi* | [**pushLocation**](docs/EmspLocationApi.md#pushLocation) | **PUT** /emsp/api/2.2.1/locations |
*EmspSessionsApi* | [**getSession**](docs/EmspSessionsApi.md#getSession) | **GET** /emsp/api/2.2.1/sessions |
*EmspSessionsApi* | [**patchSession**](docs/EmspSessionsApi.md#patchSession) | **PATCH** /emsp/api/2.2.1/sessions |
*EmspSessionsApi* | [**putSession**](docs/EmspSessionsApi.md#putSession) | **PUT** /emsp/api/2.2.1/sessions |
*EmspTariffApi* | [**deleteTariff**](docs/EmspTariffApi.md#deleteTariff) | **DELETE** /emsp/api/2.2.1/tariffs |
*EmspTariffApi* | [**getTariff**](docs/EmspTariffApi.md#getTariff) | **GET** /emsp/api/2.2.1/tariffs |
*EmspTariffApi* | [**saveTariff**](docs/EmspTariffApi.md#saveTariff) | **PUT** /emsp/api/2.2.1/tariffs |
*EmspTokenApi* | [**getToken**](docs/EmspTokenApi.md#getToken) | **GET** /emsp/api/2.2.1/tokens/{date_from}/{date_to}/{offset}/{limit} |
*EmspTokenApi* | [**postToken**](docs/EmspTokenApi.md#postToken) | **POST** /emsp/api/2.2.1/tokens/{token_uid}/{type} |
*EmspVersionApi* | [**getVersionDetails**](docs/EmspVersionApi.md#getVersionDetails) | **GET** /emsp/api/2.2.1/versions/details/{version} |


## Documentation for Models

- [AbstractProfileResult](docs/AbstractProfileResult.md)
- [ActiveChargingProfileRequestDTO](docs/ActiveChargingProfileRequestDTO.md)
- [AdditionalGeoLocation](docs/AdditionalGeoLocation.md)
- [AuthorizationInfoResponseDTO](docs/AuthorizationInfoResponseDTO.md)
- [BusinessDetails](docs/BusinessDetails.md)
- [CdrDTO](docs/CdrDTO.md)
- [CdrDimension](docs/CdrDimension.md)
- [CdrLocation](docs/CdrLocation.md)
- [CdrToken](docs/CdrToken.md)
- [ChargingPeriod](docs/ChargingPeriod.md)
- [ChargingProfile](docs/ChargingProfile.md)
- [ChargingProfilePeriod](docs/ChargingProfilePeriod.md)
- [ClientInfoDTO](docs/ClientInfoDTO.md)
- [CommandResultRequestDTO](docs/CommandResultRequestDTO.md)
- [Connector](docs/Connector.md)
- [CredentialsDTO](docs/CredentialsDTO.md)
- [CredentialsRole](docs/CredentialsRole.md)
- [DisplayText](docs/DisplayText.md)
- [EVSE](docs/EVSE.md)
- [Endpoint](docs/Endpoint.md)
- [EnergyContract](docs/EnergyContract.md)
- [EnergyMix](docs/EnergyMix.md)
- [EnergySource](docs/EnergySource.md)
- [EnvironmentalImpact](docs/EnvironmentalImpact.md)
- [ExceptionalPeriod](docs/ExceptionalPeriod.md)
- [GeoLocation](docs/GeoLocation.md)
- [Hours](docs/Hours.md)
- [Image](docs/Image.md)
- [LocationDTO](docs/LocationDTO.md)
- [LocationReferences](docs/LocationReferences.md)
- [LocationReferencesRequestDTO](docs/LocationReferencesRequestDTO.md)
- [Price](docs/Price.md)
- [PriceComponent](docs/PriceComponent.md)
- [PublishTokenType](docs/PublishTokenType.md)
- [RegularHours](docs/RegularHours.md)
- [ResponseFormat](docs/ResponseFormat.md)
- [SessionDTO](docs/SessionDTO.md)
- [SignedData](docs/SignedData.md)
- [SignedValue](docs/SignedValue.md)
- [StatusSchedule](docs/StatusSchedule.md)
- [Tariff](docs/Tariff.md)
- [TariffDTO](docs/TariffDTO.md)
- [TariffElement](docs/TariffElement.md)
- [TariffRestrictions](docs/TariffRestrictions.md)
- [Token](docs/Token.md)
- [TokenDTO](docs/TokenDTO.md)
- [VersionDetailsResponseDTO](docs/VersionDetailsResponseDTO.md)

## Documentation for Authentication and Authorization

All endpoints do not require authorization or authentication.

## Recommendation

It's recommended to create an instance of `ApiClient` per thread in a multithreaded environment to avoid any potential issues.

## License


[MIT License](LICENSE)

## About Extrawest.com


We are devoted to push the marked for vehicles charging forward.
There are many standards out there, we intend to implement and share them. Any help is much appreciated!

The market is in its defining state, the practices and standards we come up with now, may very well stick around for decades to come.

See our vision at https://www.extrawest.com/
